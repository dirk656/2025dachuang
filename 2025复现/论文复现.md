# 论文复现

## 滚动时域轨迹规划

## 最优路径规划解释

给定一条几何路径 **p**(*s*)，其中 s∈[0,send]*s*∈[0,*s*end] 是路径参数，找到一个时间标度函数 *s*(*t*)，使得总时间 T 最小化，同时满足运动学约束：
$$
\begin{aligned}
& \min_{s(t)} \quad T \\
& \text{subject to:} \\
& \quad |\dot{q}_j| \leq v_j^{\max}, \quad |\ddot{q}_j| \leq a_j^{\max}, \quad \forall j
\end{aligned}
$$
其中关节速度 q˙j*q*˙*j* 和加速度 q¨j*q*¨*j* 与路径参数的关系为：
$$
\begin{aligned}
\dot{q}_j &= \frac{dq_j}{ds} \dot{s} \\
\ddot{q}_j &= \frac{d^2q_j}{ds^2} \dot{s}^2 + \frac{dq_j}{ds} \ddot{s}
\end{aligned}
$$

$$
\begin{aligned}
& q_j \text{ 是第 } j \text{ 个关节的位置} \\
& \dot{s} = \frac{ds}{dt} \text{ 是路径参数变化率} \\
& \ddot{s} = \frac{d^2s}{dt^2} \text{ 是路径参数加速度} \\
& v_j^{\max} \text{ 和 } a_j^{\max} \text{ 分别是第 } j \text{ 个关节的最大允许速度和加速度}
\end{aligned}
$$

## 二、传统方法的复杂度推导

### 方法1：数值积分法（Numerical Integration, NI）

**代表工作**：Bobrow et al. [4], Pham [6]

**算法步骤**：

1. **前向积分**：从 s=0*s*=0 开始，以最大加速度积分，得到 s˙fwd(s)*s*˙*f**w**d*(*s*)
2. **后向积分**：从 s=send*s*=*s**e**n**d* 开始，以最大减速度积分，得到 s˙bwd(s)*s*˙*b**w**d*(*s*)
3. **取最小值**：s˙∗(s)=min⁡(s˙fwd(s),s˙bwd(s))*s*˙∗(*s*)=min(*s*˙*f**w**d*(*s*),*s*˙*b**w**d*(*s*))

**复杂度分析**：

- 路径被离散为 N*N* 个点：s0,s1,...,sN−1*s*0,*s*1,...,*s**N*−1
- 在每个点需要计算：
  - 雅可比矩阵：J(s)=∂p∂s*J*(*s*)=∂*s*∂**p** → O(d)*O*(*d*) 操作，其中 d*d* 是维度
  - 速度/加速度约束转换
- **总操作次数**：O(N⋅d)*O*(*N*⋅*d*)

**推导公式**：

TNI=O(N⋅d)*T**N**I*=*O*(*N*⋅*d*)

其中 N*N* 与路径长度和曲率有关，通常 N≫1*N*≫1。

------

### 方法2：凸优化法（Convex Optimization, CO）

**代表工作**：Verscheure et al. [8]

**问题转化**：令 u(s)=s˙2(s)*u*(*s*)=*s*˙2(*s*)，问题转化为：

min⁡u(s)T=∫0send1u(s)dss.t.A(s)u(s)+B(s)u˙(s)≤C(s)u(s)≥0*u*(*s*)mins.t.*T*=∫0*s**e**n**d**u*(*s*)1*d**s**A*(*s*)*u*(*s*)+*B*(*s*)*u*˙(*s*)≤*C*(*s*)*u*(*s*)≥0

**离散化后**：

- 决策变量：u=[u(s0),u(s1),...,u(sN−1)]**u**=[*u*(*s*0),*u*(*s*1),...,*u*(*s**N*−1)] → N*N* 个变量
- 约束数量：在每个点有 m*m* 个约束（m*m* 是关节数 × 约束类型数）
- 总约束数：O(mN)*O*(*m**N*)

**复杂度分析**：

- 内点法求解凸优化问题的复杂度为：

TCO=O(mN⋅(mN)2)=O(m2.5N2.5)*T**CO*=*O*(*m**N*⋅(*m**N*)2)=*O*(*m*2.5*N*2.5)

- 即使使用更高效的求解器，复杂度也在 O(mN2)*O*(*m**N*2) 到 O(m1.5N1.5)*O*(*m*1.5*N*1.5) 之间。

**推导公式**：

TCO=O(mkNl),其中 k,l≥1.5*T**CO*=*O*(*m**k**N**l*),其中 *k*,*l*≥1.5

------

### 方法3：动态规划法（Dynamic Programming, DP）

**代表工作**：Pfeiffer and Johanni [10], Barnett and Gosselin [11]

**算法思想**：

- 将路径离散为 N*N* 段
- 定义值函数 V(s,s˙)*V*(*s*,*s*˙) 表示从状态 (s,s˙)(*s*,*s*˙) 到终点的最小时间
- 使用贝尔曼方程递归求解

**复杂度分析**：

- 状态空间：(s,s˙)(*s*,*s*˙) 离散化为 N×M*N*×*M* 个状态
- 每个状态需要比较 O(M)*O*(*M*) 个可能的控制决策
- **总复杂度**：O(N⋅M2)*O*(*N*⋅*M*2)

**推导公式**：

TDP=O(N⋅M2)*T**D**P*=*O*(*N*⋅*M*2)

其中 M*M* 是速度离散化的粒度，通常 M∝N*M*∝*N*。

------

##  三、复杂度总结对比

| 方法             | 时间复杂度               | 关键影响因素                     |
| :--------------- | :----------------------- | :------------------------------- |
| 数值积分(NI)     | O(N⋅d)*O*(*N*⋅*d*)       | 路径离散点数 N*N*，维度 d*d*     |
| 凸优化(CO)       | O(mkNl)*O*(*m**k**N**l*) | 约束数 m*m*，离散点数 N*N*       |
| 动态规划(DP)     | O(N⋅M2)*O*(*N*⋅*M*2)     | 离散点数 N*N*，速度离散粒度 M*M* |
| **本文滚动时域** | O(d)*O*(*d*) **每步**    | 仅与维度 d*d* 有关               |

## 四.数学形式对比

### 传统方法（一次性求解）：

$$
\begin{aligned}
& \min_{s(t)} \quad T = \int_0^{s_{\text{end}}} \frac{1}{\dot{s}(s)} ds \\
& \text{s.t.} \quad \mathbf{\dot{q}}_{\min} \leq \frac{d\mathbf{q}}{ds} \dot{s} \leq \mathbf{\dot{q}}_{\max}, \quad \forall s \in [0, s_{\text{end}}]
\end{aligned}
$$

**→ 高维优化问题，复杂度随 N\*N\* 快速增长**

### 滚动时域方法（序列求解）：

$$
\begin{aligned}
& \min_{s_i(t)} \quad T_i = \int_{s_i}^{s_{i+1}} \frac{1}{\dot{s}(s)} ds \\
& \text{s.t.} \quad \mathbf{\dot{q}}_{\min} \leq \frac{d\mathbf{q}}{ds} \dot{s} \leq \mathbf{\dot{q}}_{\max}, \quad s \in [s_i, s_{i+1}] \\
& \quad \text{+ 全局可行性约束}
\end{aligned}
$$

**→ 多个低维问题，每个复杂度为常数**

能够降低复杂度

