# 论文总结

 [A_Receding_Horizon_Online_Trajectory_Generation_Method_for_Time-Efficient_Path_Tracking_with_Dynamic_Factors.pdf](/home/feng/2025dachuang/2025论文/A_Receding_Horizon_Online_Trajectory_Generation_Method_for_Time-Efficient_Path_Tracking_with_Dynamic_Factors.pdf) 

# 《一种用于高效时间路径跟踪的滚动时域在线轨迹生成方法》论文总结

## 1. 研究背景与动机

- **现实需求**：现代机器人应用（如人机协作、动态环境作业）要求机器人具备高度的灵活性和自主性，能够应对不可预测的动态因素。
- **现有方法瓶颈**：
  - **计算复杂度高**：传统的时优路径参数化方法（如数值积分、凸优化、动态规划）计算负担重，难以实现实时规划。
  - **缺乏在线处理能力**：多数方法需要预定义完整路径，无法在运动执行过程中处理路径变更。
  - **预处理或迭代开销**：部分在线方法仍需大量预处理或迭代求解，在频繁变化的环境中可靠性不足。

## 2. 研究目标

开发一个实时轨迹规划框架，以实现：

- **低计算复杂度**
- **高跟踪精度**
- **高时间效率**
- **对动态因素（如动态障碍物、目标变更）的在线处理能力**

## 3. 核心方法

该方法的核心是**滚动时域结构**与**解析闭式求解**的结合。

### 3.1. 滚动时域轨迹生成

- **基本思想**：将全局路径跟踪问题分解为一系列连续的局部轨迹生成子问题，每次只规划下一个路径段的轨迹。
- **全局运动约束**：
  - 引入**方向切换点**：在每个关节运动方向改变的点，速度必须为零。
  - 在规划局部轨迹时，考虑下一个方向切换点或最终目标的**零速度约束**，确保全局可行性，避免“短视”行为。
- **工作流程**：
  1. 接收到新路径后，预先计算所有关节的方向切换点。
  2. 当机器人到达一个路径点时，在线生成到下一个路径点的局部时优轨迹，同时满足指向下一个方向切换点的约束。

### 3.2. 局部轨迹生成的解析闭式方法

- **轨迹模型**：采用**梯形速度曲线**（TVP, Trapezoidal Velocity Profile）。
  - 优点：计算简单、参数具有明确的运动学意义、在给定约束下能实现最快运动。
- **多关节同步问题**：
  - **挑战**：多个关节必须同时到达下一个路径点，导致高维非凸优化问题。
  - **解决方案**：通过确定**同步时间**将问题解耦。
- **局部时优轨迹生成步骤**：
  1. **计算各关节时优TVP**：为每个关节独立计算从当前位置到下一个方向切换点的最短时间TVP（不考虑同步）。
  2. **计算路径点到达时间**：根据步骤1的TVP，计算每个关节到达下一个路径点的预期时间。
  3. **确定同步时间**：根据各关节的运动相位（加速/匀速或减速），选择所有关节都能满足运动学约束的最早可能时间作为统一的同步时间。
  4. **调整TVP**：根据固定的同步时间，为每个关节单独调整其TVP参数，确保它们能在该时刻准确到达下一个路径点。这一步通过一个闭式算法处理四种不同的运动情况。

## 4. 动态因素处理

该方法利用其**实时计算能力**处理动态变化：

### 4.1. 动态障碍物

- **碰撞检测**：在任务空间中进行几何重叠检查。
- **临时路径更新**：根据障碍物的预测路径和当前位置，不断更新一个**临时无碰撞路径**片段。
- **在线重规划**：一旦临时路径更新，立即触发轨迹重规划（重新执行算法1），机器人平滑过渡到新轨迹。

### 4.2. 目标变更

- **路径重规划**：当目标位置改变时，立即生成一条通往新目标的几何路径。
- **轨迹重规划**：将新路径输入轨迹生成器，机器人随即开始跟踪新轨迹，无需停止。

## 5. 实验与性能评估

实验在Franka-Emika Panda机器人上进行，场景包括**静态避障**、**动态避障**和**目标变更**。

### 5.1. 计算效率

- **结果**：单次轨迹计算时间在 `10^-5` 秒级别，远低于1ms的控制周期。
- **优势**：
  - 比对比方法（TOTG, TOPP-RA）快几个数量级。
  - 计算时间**不随路径点数量增加**，得益于滚动时域结构。
- **结论**：完全满足实时性要求。

### 5.2. 跟踪精度

- **结果**：平均跟踪误差在 `10^-3` 弧度量级，最大误差通常小于 `10^-1` 弧度。
- **说明**：在绝大多数情况下能精确通过路径点。仅在极端情况（Situation 1，接近终点时初速度过高）下会产生较大误差，但全局约束的引入使得这种情况很少发生。

### 5.3. 时间效率

- **结果**：整个路径的运动时间与全局时优方法（TOPP-RA, TOTG）**相当甚至更短**。
- **原因**：该方法在局部规划中总是倾向于使用最大加速度。
- **结论**：虽然是非全局优化，但实现了接近全局最优的时间效率。

## 6. 方法优势

1. **高计算效率**：滚动时域 + 解析求解 + 问题解耦，实现了极低的计算开销。
2. **强实时性**：可在单个控制周期内完成轨迹生成，支持在线重规划。
3. **处理动态因素能力**：能有效应对动态障碍物和在线目标变更。
4. **良好的综合性能**：在时间效率和跟踪精度上与离线全局方法相当。

## 7. 局限与未来工作

- **局限性**：为追求时间最优和灵活性，轨迹**平滑性有所牺牲**，速度曲线存在频繁变化。

- **未来工作**：

  - 提升运动平滑性。

  - 探索在多机器人协同和人机交互等更复杂场景中的应用。

    # 《基于关节解耦优化的人机交互实时轨迹规划》论文总结

    ## 1. 研究背景与核心问题

    ### 1.1 研究动机

    - 在人机交互应用中，机器人需要根据人类行为**快速、安全地调整**自身运动。
    - **轨迹规划的实时性**（在单个控制周期内完成计算）至关重要，以确保交互的流畅性和安全性。
    - 传统的基于**非线性优化**的轨迹规划方法虽然能综合平衡安全性、效率等多个指标，但其**计算复杂度高**，尤其对于多自由度机器人，难以满足实时性要求。

    ### 1.2 核心挑战

    - **高维耦合问题**：机器人的多个关节运动必须协调同步（例如，拥有共同的运动时间），导致优化参数相互耦合，形成高维非线性优化问题。
    - **计算瓶颈**：问题维度随自由度数量增加而急剧上升，计算时间超线性增长，难以在毫秒级的控制周期内完成求解。
    - **可行性保障**：耦合求解器可能因某个关节的约束无法满足而导致整个规划失败。

    ## 2. 核心方法：关节解耦优化

    为了解决上述挑战，论文提出了一个**核心创新点**：将原本**高维、耦合**的优化问题，**分解**为多个**低维、独立**的优化子问题。

    ### 2.1 整体思路

    1. **参数分类**：将轨迹优化参数分为两类：
       - **关节相关参数**：只与单个关节运动相关的变量（如该关节的最大速度 `ω_m^i`）。
       - **耦合参数**：所有关节共享的变量（如**同步时间 `t_f`**）。
    2. **问题转化**：一旦确定了耦合参数的值，原耦合优化问题即可解耦为多个独立的、低维的优化问题，每个问题只针对一个关节进行求解。

    ### 2.2 关键技术：耦合参数确定（同步时间选择）

    耦合参数的确定是解耦成功的关键，需要满足两个条件：

    1. **可行性**：所选的耦合参数必须对所有关节都是可行的。
    2. **近优性**：所选的耦合参数应尽可能接近原耦合问题的最优解。

    **实现步骤**：

    1. **确定可行域**：为每个关节独立计算其耦合参数（同步时间）的可行范围。
    2. **识别不可行关节**：若某个关节的耦合参数可行域为空，则将其标记为“不可行关节”，并将其从耦合问题中移除，后续单独处理。
    3. **计算全局可行域**：所有“可行关节”的耦合参数可行域的交集，即为全局可行域。
    4. **机器学习选择近优值**：
       - **离线阶段**：通过求解大量原耦合问题，构建一个`(输入变量 X, 最优耦合参数)`的数据库。
       - **在线阶段**：对于新的输入 `X'`，使用回归模型（如5-近邻算法）从数据库中预测一个近似的耦合参数 `C_cpl'`。
       - **可行性修正**：若预测值不在全局可行域内，则将其修正到可行域的边界上，得到最终采用的耦合参数 `C_cpl*`。

    ## 3. 在一个具体HRI案例中的实现

    论文将上述通用方法应用到一个具体的HRI场景中。

    ### 3.1 场景描述

    - 机器人与人在共享工作空间中协作（如递送工具）。
    - 机器人需要根据人手运动的预测位置，实时规划其末端执行器的运动轨迹。
    - 要求运动平滑、快速，并在交互点准确停止。

    ### 3.2 模型建立

    - **轨迹参数化**：采用**梯形速度曲线** 模型来描述每个关节的运动。
    - **耦合优化问题**：
      - **优化参数**：所有关节的最大速度 `ω_m^1, ..., ω_m^Nj` 和**同步运动时间 `t_f`**。
      - **目标函数**：权衡运动快速性（时间短）和安全性/平滑性（加速度小）。
      - **约束**：包括最大速度、加速度限制以及TVP模型本身的数学约束。
    - **解耦转化**：
      - **耦合参数**：同步时间 `t_syn`。
      - **关节相关参数**：各关节的最大速度 `ω_m^i`。
      - 确定 `t_syn` 后，即可为每个关节独立求解其最优的 `ω_m^i`。

    ### 3.3 对不可行关节的处理

    对于因当前状态（如初速度过高、剩余移动距离过短）而无法满足同步时间约束的关节，采取**约束松弛**策略：

    - 放弃严格的位移约束，允许存在一定的跟踪误差。
    - 为该关节独立规划一个仅包含减速段的轨迹，并使用最大减速度，以最小化位置误差。

    ## 4. 实验与性能评估

    ### 4.1 计算效率

    - **结果**：与直接求解耦合问题的SQP方法相比，解耦方法将计算时间**降低了一个数量级以上**。
    - **优势**：计算时间随自由度数量的增长远低于耦合方法，且始终低于4ms的控制周期，满足了实时性要求。

    ### 4.2 求解可行性

    - **结果**：解耦方法的**成功率（100%）** 远高于使用随机初值或机器学习初值的耦合SQP方法。
    - **原因**：解耦方法通过显式处理每个关节的约束和不可行情况，保证了总能找到一个可接受的解，灵活性更强。

    ### 4.3 最优性牺牲

    - **结果**：解耦方法得到的解是**近优解**，与全局最优解相比，目标函数值平均增加了约17.6%，参数平均误差约20%。
    - **结论**：这是一种用**少量最优性**换取**高实时性、高可靠性和强可行性**的有效折衷。在动态HRI环境中，一个快速、可行的解远比一个缓慢、可能失败的最优解更重要。

    ### 4.4 实际HRI实验

    - 在真实的ABB机器人上进行了实验，规划频率为250Hz。
    - 机器人能够平滑、准确地跟踪动态变化的目标（人手位置），验证了该方法在实际系统中的有效性。

    ## 5. 方法优势与贡献

    1. **高计算效率**：通过问题分解，极大降低了在线计算复杂度。
    2. **强实时性**：计算时间满足毫秒级控制周期要求。
    3. **高可行性与灵活性**：总能返回可行解，并能优雅地处理“不可行”关节。
    4. **良好的可扩展性**：方法易于扩展到不同自由度的机器人系统。
    5. **实用性**：在真实的HRI任务中得到了验证，能够生成安全、平滑、快速的运动。

    ## 6. 总结

    这篇论文提出并验证了一种基于**关节解耦优化**的实时轨迹规划方法，有效解决了HRI场景中高维非线性优化问题的计算瓶颈。其核心思想 **“分而治之”**——通过智能地确定耦合参数（同步时间），将复杂问题化为多个简单问题——为实现机器人在动态环境中的实时、安全、柔顺交互提供了关键技术支持。

    # 《基于非凸全局优化的串行机械臂轨迹规划》论文总结

    ## 1. 研究背景与核心问题

    ### 1.1 研究动机

    - 机器人在动态环境中工作（如人机交互、捕捉飞行物体）需要**持续地、快速地**根据环境变化重新规划轨迹。
    - **轨迹规划**是连接上层运动规划与底层控制的桥梁，其**实时性**（通常在毫秒级控制周期内完成）和**可靠性**至关重要。
    - 基于**非线性优化**的轨迹规划方法可以综合平衡多个性能指标（如时间、能量），但实际问题中的目标函数和约束通常很复杂，导致优化问题是**非凸的**。

    ### 1.2 核心挑战

    - **局部极小值陷阱**：传统的局部优化方法在求解非凸问题时，容易陷入局部最优，无法保证找到全局最优解。
    - **计算效率与精度的矛盾**：
      - **多重重启法**和**启发式算法**（如模拟退火、进化算法）可以寻找近似全局解，但**计算成本高昂**且**无法保证解的精度**。
      - **机器学习**方法可以通过预测初始值来加速求解，但数据库中的噪声以及学习模型的不确定性，使得该方法同样**无法保证获得全局最优解**。

    ## 2. 核心方法：非凸优化模型变换与机器学习求解器

    该论文提出了一个**两阶段的解决方案**，旨在实现非凸优化问题的**精确、高效实时求解**。

    ### 2.1 阶段一：非凸优化模型变换

    这是本文的**核心理论贡献**。

    - **原模型（Model 1）**：选择各关节的**加速度 ai\*a\**i\*** 和**同步运动时间 tf\*t\**f\*** 作为优化参数。
      - **缺点**：虽然目标函数是凸的，但由此推导出的约束条件**极其复杂且高度非凸**，导致存在多个局部极小值，求解困难。
    - **变换后模型（Model 2）**：通过**变量替换**，选择各关节的**最大速度 ωmi\*ω\**m\**i\*** 和**同步运动时间 tf\*t\**f\*** 作为优化参数。
      - **关键定理**：论文证明，变换后的优化问题 **P\*P\*** 虽然整体非凸，但**在其可行域内只有一个局部极小值，这个局部极小值就是全局最优解**。
      - **意义**：这个结论是突破性的。它意味着，对于变换后的问题，**任何局部优化求解器，只要从一个可行的初始点开始迭代，都必将收敛到全局最优解**。从而彻底避免了多重重启的需要，极大地提高了计算效率和可靠性。

    ### 2.2 阶段二：基于机器学习的实时求解器

    在模型变换的基础上，引入机器学习来进一步提升在线计算速度。

    1. **离线生成数据库**：通过求解大量变换后模型（Model 2）的优化问题，构建一个 `(输入变量 X, 全局最优参数 C*)` 的数据库。由于Model 2能保证全局最优，该数据库的**质量很高**。
    2. **建立回归模型**：基于数据库，训练一个从输入 X*X* 到最优参数 C∗*C*∗ 的映射关系 R(X)*R*(*X*)。论文提出了**多变量-多重回归** 方法，为多维输出变量的每个分量独立选择最相关的输入特征进行回归。
    3. **在线学习与求解**：
       - 对于新的输入 X′*X*′，使用回归模型预测一个近似的初始参数 C′=R(X′)*C*′=*R*(*X*′)。
       - 以 C′*C*′ 作为初始值，使用局部迭代求解器（如SQP）求解变换后的模型（Model 2），快速得到**全局最优参数** C∗*C*∗。

    **两者协同效应**：模型变换保证了机器学习提供的初始值能引导求解器走向全局最优；而机器学习提供的**高质量初始值**则显著**减少了迭代求解器的迭代次数**，进一步加快了在线计算速度。

    ## 3. 实验与性能评估

    ### 3.1 模型变换的效果

    - **可行性**：Model 1的成功率仅为35.9%，而**Model 2的成功率达到100%**。
    - **最优性**：Model 1找到全局解的概率仅为6.1%，而**Model 2找到全局解的概率为100%**。
    - **计算效率**：Model 1因需要多重重启，平均计算时间为1.359秒；**Model 2仅需0.173秒**，计算效率提升了一个数量级。

    ### 3.2 机器学习初始化的效果

    - **回归方法**：对比了GPR（高斯过程回归）、SVR（支持向量回归）和k-NN（k近邻）等方法。
    - **特征选择**：为不同输出分量精心选择相关输入特征（Feature 2），比使用全部输入特征（Feature 1）效果更好。
    - **结果**：
      - **可行性**：使用GPR和SVR初始化，求解器的成功率接近100%。
      - **计算时间**：最佳情况下（GPR + Feature 2），**在线计算时间比随机初始化减少了50%以上**。

    ### 3.3 实际应用验证

    在250Hz的实时系统上进行了两个案例的实验：

    1. **人机交互**：机器人末端执行器实时跟踪人手运动的变化目标。
    2. **动态避障**：机器人在移动过程中，通过临时设定中间点作为目标来为移动障碍物让行。

    **结果**：轨迹规划的平均计算时间为0.37ms，最大计算时间2.96ms，**远低于4ms的控制周期**，满足了严格的实时性要求。机器人运动平滑，能准确、快速地响应环境变化。

    ## 4. 方法优势与贡献

    1. **理论创新**：通过巧妙的**变量替换和模型变换**，将难以求解的非凸全局优化问题，转化为一个**仅有一个局部极小值（即全局最优）** 的问题。
    2. **保证全局最优**：无需多重重启，即可保证获得**精确的全局最优解**，解决了非凸优化求解的核心痛点。
    3. **计算高效**：结合模型变换与机器学习初始化，实现了**毫秒级的实时计算性能**。
    4. **高可靠性**：求解成功率达到100%，非常适合对安全性和可靠性要求高的动态应用场景。

    ## 5. 总结

    这篇论文提出了一套完整且强大的方法论，解决了机器人实时轨迹规划中**非凸优化难以快速、精确求解**的根本性难题。其核心在于通过**模型变换“重塑”了问题的几何形态**，使其变得“易于求解”，再辅以**机器学习进行“加速”**。这套方法不仅在理论上严谨，更在真实的机器人系统中得到了有效验证，为机器人在复杂动态环境中实现高效、安全的自主作业提供了关键的技术基础。

    